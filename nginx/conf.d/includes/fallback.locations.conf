  # Qualquer rota fora de /monitor, /zabbix, /grafana, /area-cliente e /error vai para /monitor
  location / {
    if ($request_uri !~ ^/(monitor|zabbix|grafana|area-cliente|error|\\.well-known|LANDPAGE)(/|$)) {
      return 301 /monitor$request_uri;
    }
    return 302 /monitor/;
  }

  # Fallback para assets absolutos gerados pelo app (sem /monitor)
  location ~* ^/(css|img|js|fonts)/ {
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto https;
    proxy_pass http://php-monitor:80;
  }
